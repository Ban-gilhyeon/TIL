
# OSI 7계층

![[Pasted image 20250419005735.png]]

## 2.데이터 링크 계층 (Data Link Layer)
`같은` 네트워크 안에서 안정적으로 데이터를 전송해주는 계층
- 바로 옆 기기랑 `충돌`, `오류`없이 정확하게 데이터 주고 받는걸 책임 짐
목표
- 한번에 한 `홉(Hop)`씩 안전하게 넘겨라

### 주요 역할
- 프레임 생성 : 전송할 데이터를 `프레임`이라는 덩어리로 만듬
- 오류 검출 : 데이터가 깨졌는지 확인한다 (에러 체크)
- 흐름 제어 : 수신자가 과부하 걸리지 않게 조절
- 동기화 : 송수신 타이밍을 맞춤 
- MAC 주소 이용 : 물리 주소 기반으로 통신 

데이터링크 계층의 세부 구조
- MAC : 누가 언제 전송할지 제어 (충돌 방지, CSMA/CD 등)
- LLC(Logical Link Control) : `프레임 오류 체크`, 흐름제어 같은 논리적 관리 담당

데이터 단위
**Frame**
- 시작 비트 : 프레임 시작 표시
- 목적지 MAC 주소 : 수신자
- 출발지 MAC 주소 : 송신자
- 데이터 : 전달할 실제 내용
- FCS(Frame Check Sequence) : 오류 검출용 코드  

사용 기술
![[Pasted image 20250419015150.png]]

### CSMA/CD
Carrier Sense Multiple Access With Collision Detection

- Carrier Sense : 선호(회선)에 신호가 흐르고 있는지 듣는다
- Muliple Access : 여러 명이 같은 선로를 쓴다
- Collision Detection : 충돌나면 감지한다

즉, CSMA/CD는 **다 같이 쓰는 선로에서 서로 눈치보면서, 부딪히면 다시 출발하는 통신 방식**

동작 순서
1. 감지 
-> 데이터를 보내기전에 선로를 듣는다 (누가 전송중인가?)
2. 전송 시작
3. 충돌감지
4. 충돌 감지했으면? 전송 중지
5. Back off (랜덤 대기)
6. 재 전송

## 3. 네트워크 계층 (Network Layer)
`서로 다른` 네트워크들 사이를 연결, 목적지까지 경로를 찾아주는 층
- IP 주소를 보고
- 출발지 -> 목적지까지 경로(route)를 계산해서
- 데이터를 다음 홉(Hop)으로 넘겨줌

![[Pasted image 20250419015858.png]]

### 주요 역할
- IP 주소 부여/처리 
- 라우팅 : 목적지까지 최적 경로 계산
- 패킷 분할 및 조립 : 크기가 너무 큰 데이터는 쪼개서 보내고 다시 합침
- 캡슐화 / 디캡슐화 : 데이터에 IP 헤더 붙이고, 떼어내기

데이터 단위 
**패킷**

대표 프로토콜 
- IP(Internet Protocol) : 기본 통신 규약
- ICMP(Internet Control Message Protocol) : 네트워크 상태 체크 (Ping)
- ARP(Address Resolution Protocol) : IP -> MAC 
- RARP : MAC -> IP

내부 작동 흐름 
1. 데이터를 받는다 (상위)
2. IP 헤더를 붙인다 (출발지/목적지 IP 세팅)
3. 경로 계산
4. 다음 라우터나 최종 목적지로 패킷을 보낸다

![[Pasted image 20250419020337.png]]

## 4. 전송계층 (Transport Layer)
`컴퓨터끼리`, `프로그램끼리` 데이터를 정확하게 주고 받도록 도와주는 층
- 네트워크 계층이 컴퓨터까지 보내주면
- 전송 계층이 컴퓨터 안에 있는 프로그램끼리 데이터를 전달 

### 주요 역할 
- 포트 번호 관리 : 프로그램 식별 
- 신뢰성 보장 (TCP) : 데이터 순서 맞게 빠진거 없이 전송
- 흐름 제어 
- 혼잡 제어
- 오류 제어

데이터 단위 
- `TCP`의 경우 : 세그먼트 (Segment)
- `UDP`의 경우 : 데이터 그램(Datagram)

대표 프로토콜 
![[Pasted image 20250419020800.png]]

TCP VS UDP
![[Pasted image 20250419022219.png]]

